@page "/pedidos/{OrderNumber}/confirmar"
@inherits ConfirmPage

<MudContainer MaxWidth="MaxWidth.Small" Class="mt-16 pt-8">
    <MudPaper Class="pa-8 rounded-xl text-center" Elevation="3">
        @if (IsLoading)
        {
            <MudProgressCircular Indeterminate="true" Color="Color.Primary" Size="Size.Large" Class="mb-4" />
            <MudText Typo="Typo.h5">Confirmando seu pagamento...</MudText>
            <MudText Class="mud-text-secondary mt-2">Por favor, aguarde um momento.</MudText>
        }
        else if (IsSuccess)
        {
            <MudIcon Icon="@Icons.Material.Filled.CheckCircle" Color="Color.Success" Style="font-size: 5rem;" Class="mb-4" />
            <MudText Typo="Typo.h4" Style="font-weight: 800;" GutterBottom="true">Sucesso!</MudText>
            <MudText Typo="Typo.h6" Class="mb-6">Seu pedido <b>#@OrderNumber</b> foi pago.</MudText>
            
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Link="/">
                Voltar para a Loja
            </MudButton>
        }
        else
        {
            <MudIcon Icon="@Icons.Material.Filled.Error" Color="Color.Error" Style="font-size: 5rem;" Class="mb-4" />
            <MudText Typo="Typo.h4" Style="font-weight: 800;" GutterBottom="true">Atenção</MudText>
            <MudText Typo="Typo.body1" Class="mb-6">
                Recebemos seu retorno, mas houve um problema ao atualizar o status do pedido.
                <br/>Entre em contato com o suporte ou verifique seus pedidos.
            </MudText>
            
            <MudButton Variant="Variant.Outlined" Color="Color.Primary" Link="/">
                Voltar para Início
            </MudButton>
        }
    </MudPaper>
</MudContainer>